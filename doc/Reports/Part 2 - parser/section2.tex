\section{First sets, follow sets, action table}

Because the objective is to build a LL(1) parser, which is a predictive parser, one does
need to design the predictive features of the parser. Given a variable on the stack, let's say
\varstyle{Code}, the parser is not supposed to know which rule to apply between the following two rules:

\begin{tabular}{lll}
  \varstyle{Program} & $\rightarrow$ & begin \varstyle{Code} end \\
  \varstyle{Code} & $\rightarrow$ & $\epsilon$ \\
  & $\rightarrow$ & \varstyle{InstList} \\
\end{tabular}

This is solved by looking at the next input token. If the latter is, let's say \textit{a}, the code will contain instructions.
As a result, rule \varstyle{Code} $\rightarrow$ \varstyle{InstList} should be applied.
However, if the next input token is \textit{end}, the code will be empty and rule \varstyle{Code} $\rightarrow \epsilon$
should be applied.

\subsection{First sets}

We will consider only look-aheads of one symbol at a time in the framework of this report.
The $First^1$ set of a symbol is the \textbf{set of first terminals} that can be derived from this symbol using
different rules where the left-hand part consists in this symbol. Let's adapt the definition of first sets
for LL(1) grammars:

\begin{equation}
  \begin{split}
    First^1(A) = \{ b \in T | A \Rightarrow_{Imp}^{*} bx \}
   \end{split}
\end{equation}

The first set of a terminal is the terminal itself. Indeed, with a terminal on top of the stack, there must necessarily be a \textbf{match}
with the next input token: the two terminals must be equals. As a result, the only first token that can be derived from the terminal is
the terminal itself.

This is more complex for variables. Let's take the previous example again. The first set of \varstyle{Code}
is composed both of \textit{end} token and the first set of \varstyle{InstList}. Because the second rule of the example
does not produce any terminal but $\epsilon$, the next symbol to be produced is the one that \textbf{follows in the parent production rule}.
This is the purpose of \textbf{follow sets}.
Regarding the third rule, \varstyle{InstList} is a variable (which does not produce a token by itself), so one has to explore its first set
before to be able to find first terminals.

The algorithm that computes first sets has been implemented as a \textbf{fixed-point iteration}: it starts by computing, for each terminal, 
its first set as the set containing only the terminal itself. Then it proceeds by reduction: for each rule producing sequences of symbols
from which first sets are known, it computes the first set of the left-hand variable the following way:
\begin{itemize}
  \item TODO
\end{itemize}

\subsection{Follow sets}

\subsection{$First^1$ and $Follow^1$ sets for Imp}

  %\resizebox{1.2\linewidth}{!}{%
    {\small\ttfamily
      \input{../../../more/first_follow.tex}
    }
  %}%

\subsection{Action table}

To keep the table below concise, match and accept does not appear in the table below. Indeed, when the top of stack
contains a terminal, either the terminal is the same that the one on input and a match is performed (or an accept if the
terminal is ``\$''; either an error if the two terminals does not match.
\todo{A-t-on explique la semantique de chaque action?}

{\small\ttfamily
  \input{../../../more/action_table.tex}
}

\subsection{Proving that Imp grammar is now LL(1)}
